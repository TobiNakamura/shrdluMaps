<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
		#overlay div{
			position: absolute;
			z-index: 1;
		}

		#ui{
			position: fixed;
			top: 100px;
			left: 100px;
			z-index: 5;
		}
	</style>
	<link rel="stylesheet" href="jquery-ui.css">
 	<script src="jquery-1.11.3.js"></script>
  	<script src="jquery-ui.js"></script>
	<script src="labelCo.js" type="text/javascript"></script>
	<script type="text/javascript">
		var scaling = 1;
		var floor8000 = {name:"8000", img:"assets/floorPlans/l8000.png", labels:labels8000};
		var floor9000 = {name:"9000", img:"assets/floorPlans/l9000.png", labels:labels9000};
		var floor10000 = {name:"10000", img:"assets/floorPlans/l10000.png", labels:labels9000};
		var building = {floorlbl:[8, 9, 1], floors:[floor8000, floor9000, floor10000]};

		//enter floor by index in floor array of building obj
		function changeFloors(floor){
			var floorObj = building.floors[floor];
			$("#overlay").empty();
			$("#mapImg").attr("src", floorObj.img);
			for (var i = floorObj.labels.length - 1; i >= 0; i--){
				var txtLabel = floorObj.labels[i];
				if(!txtLabel.label.localeCompare("STR")||!txtLabel.label.localeCompare("BATH")||!txtLabel.label.localeCompare("HANDBATH")||!txtLabel.label.localeCompare("REN")||!txtLabel.label.localeCompare("ELEV")){
					$("#overlay").append($("<img></img>").css("top", txtLabel.y).css("left", txtLabel.x).css("src", txtLabel.label+".png")
					);
				}else{
					$("#overlay").append(
						$("<div></div>").css("top", txtLabel.y).css("left", txtLabel.x).text(txtLabel.label)
					);
					
				}
			};
		}

		function searchFloor(room){
			$("#overlay").children().css("color", "#000000");
			var searchFloor;
			for (var i = building.floors.length - 1; i >= 0; i--){
				if(room.charAt(0) == building.floorlbl[i]){
					searchFloor = building.floors[i].labels;
					changeFloors(i);
				}
			};

			for (var i = searchFloor.length - 1; i >= 0; i--) {
				if(!room.localeCompare(searchFloor[i].label)){
					alert(room+" "+searchFloor[i].label);
					var DOMLoc = searchFloor.length-i
					$("#overlay div:nth-child("+DOMLoc+")" ).css("color","#ff0000");
					return;
				}
			};

			alert("room does not exist");
		}

		$(document).ready(function() {
			$("#8000").click(changeFloors(0));
			//$("#9000").click(changeFloors(1));
			//$("#10000").click(changeFloors(2));
			//$("#search").click(searchFloor($(this).val()));
			changeFloors(2);
			//searchFloor("887");

			$( "#slider" ).slider({
		      orientation: "vertical",
		      min: 0,
		      max: 100,
		      value: 50,
		      slide: function( event, ui ) {
		      	$("#val").text(ui.value);

		      }
		    });
		});

	</script>
</head>
<body>

	<div id="map">
		<img id="mapImg">
		<div id="overlay"></div>
	</div>

	<div id="ui">
		<div id="slider" style="height:200px;"></div>
		<p id="val"></p>

		<div id="search"></div>
		<div id="floorNav">
			<div id="8000"></div>
			<div id="9000"></div>
			<div id="10000"></div>
		</div>
	</div>
</body>
</html>